import { motion } from "motion/react";
import { useEffect } from "react";
import { storeData } from "../../assets/store";
//Toggler component
const Toggler = () => {
  const { darkMode, setDarkMode } = storeData();
  useEffect(() => {
    document.documentElement.classList.toggle(
      "dark",
      localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
    );
  }, [darkMode]);
  useEffect(() => {
    localStorage.theme === "light" ||
    (!("theme" in localStorage) &&
      window.matchMedia("(prefers-color-scheme: light)").matches)
      ? setDarkMode(true)
      : setDarkMode(false);
  }, []);
  const moon =
    "M400 600C510.457 600 600 510.457 600 400C447.305 432.357 354.55 345.818 400 200C289.543 200 200 289.543 200 400C200 510.457 289.543 600 400 600Z";
  const sun =
    "M400 600C510.457 600 600 510.457 600 400C600 289.543 510.457 200 400 200C289.543 200 200 289.543 200 400C200 510.457 289.543 600 400 600Z";
  return (
    <>
      <div
        onClick={() => {
          darkMode
            ? (localStorage.theme = "light")
            : (localStorage.theme = "dark");
          setDarkMode(darkMode);
        }}
        className="cursor-pointer"
      >
        <svg
          width="100%"
          height="100%"
          viewBox="0 0 800 800"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clipPath="url(#clip0_1_2)">
            <motion.path
              initial={
                darkMode
                  ? { d: sun, fill: "#F9EBB2" }
                  : { d: moon, fill: "#91a3b0" }
              }
              animate={
                darkMode
                  ? {
                      d: sun,
                      fill: "#F9EBB2",
                      transition: {
                        duration: 1,
                        type: "spring",
                        stiffness: 50,
                      },
                    }
                  : {
                      d: moon,
                      fill: "#91a3b0",
                      transition: {
                        duration: 1,
                        type: "spring",
                        stiffness: 300,
                      },
                    }
              }
            />
            {darkMode && (
              <>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M400 175.025C275.738 175.025 175 275.762 175 400.025C175 524.287 275.738 625.025 400 625.025C524.262 625.025 625 524.287 625 400.025C625 275.762 524.262 175.025 400 175.025ZM400 600.025C289.538 600.025 200 510.475 200 400.025C200 289.575 289.538 200.025 400 200.025C510.462 200.025 600 289.575 600 400.025C600 510.475 510.462 600.025 400 600.025Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M787.5 387.5H662.5C655.588 387.5 650 393.088 650 400C650 406.912 655.588 412.5 662.5 412.5H787.5C794.412 412.5 800 406.912 800 400C800 393.088 794.412 387.5 787.5 387.5Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M143.212 455.862L94.925 468.8C88.25 470.612 84.2875 477.462 86.0875 484.137C87.875 490.8 94.7125 494.762 101.4 492.95L149.687 480.012C156.35 478.225 160.312 471.4 158.525 464.7C156.737 458.037 149.875 454.075 143.212 455.862Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M616.5 275C619.963 280.988 627.6 283.038 633.588 279.563L741.838 217.063C747.825 213.625 749.875 205.975 746.4 200C742.963 194.013 735.313 191.963 729.338 195.438L621.088 257.938C615.1 261.4 613.063 269.013 616.5 275Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M223.225 576.788C218.35 571.9 210.438 571.925 205.55 576.788L170.2 612.138C165.313 617.025 165.325 624.95 170.212 629.813C175.087 634.7 182.987 634.7 187.875 629.813L223.225 594.463C228.112 589.6 228.112 581.663 223.225 576.788Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M525 183.5C530.988 186.937 538.625 184.912 542.088 178.912L604.588 70.6625C608.05 64.675 606 57.025 600 53.5875C594.025 50.125 586.4 52.175 582.938 58.15L520.45 166.425C516.975 172.412 519.025 180.025 525 183.5Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M335.3 641.475C328.65 639.688 321.8 643.675 319.988 650.313L307.05 698.6C305.262 705.288 309.25 712.125 315.913 713.912C322.575 715.725 329.413 711.762 331.2 705.075L344.138 656.787C345.95 650.15 341.988 643.288 335.3 641.475Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M400 150C406.925 150 412.512 144.412 412.525 137.5V12.5C412.525 5.5875 406.937 0 400 0C393.112 0 387.525 5.5875 387.512 12.5L387.525 137.5C387.525 144.412 393.112 150 400 150Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M480.025 650.313C478.262 643.65 471.412 639.688 464.712 641.475C458.05 643.263 454.112 650.112 455.875 656.787L468.812 705.075C470.612 711.762 477.475 715.7 484.15 713.912C490.825 712.125 494.762 705.3 492.962 698.6L480.025 650.313Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M257.962 178.9C261.4 184.887 269.05 186.937 275 183.487C281 180.025 283.062 172.4 279.6 166.4L217.1 58.15C213.65 52.175 206 50.125 200 53.5875C194.037 57.025 191.987 64.675 195.437 70.65L257.962 178.9Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M594.475 576.762C589.625 571.9 581.7 571.9 576.8 576.762C571.913 581.65 571.95 589.575 576.8 594.437L612.15 629.787C617.05 634.7 624.963 634.65 629.838 629.787C634.725 624.9 634.725 617.025 629.825 612.113L594.475 576.762Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M58.175 217.062L166.45 279.538C172.412 283 180.05 280.95 183.487 275C186.95 269 184.925 261.375 178.937 257.912L70.675 195.413C64.7 191.938 57.05 194 53.5875 200C50.1625 205.962 52.2 213.6 58.175 217.062Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M650.338 480L698.625 492.938C705.313 494.75 712.15 490.738 713.938 484.075C715.738 477.413 711.788 470.575 705.1 468.787L656.813 455.85C650.175 454.037 643.3 458 641.5 464.688C639.7 471.363 643.7 478.2 650.338 480Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M150 400C150.013 393.062 144.438 387.5 137.525 387.475L12.5 387.5C5.6 387.5 0 393.062 0 400C0.0125 406.887 5.6 412.5 12.5125 412.5L137.525 412.475C144.413 412.475 150.013 406.887 150 400Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M656.813 344.112L705.1 331.175C711.788 329.388 715.725 322.513 713.925 315.838C712.15 309.2 705.325 305.238 698.625 307.025L650.338 319.963C643.675 321.725 639.713 328.6 641.5 335.275C643.263 341.938 650.15 345.875 656.813 344.112Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M183.5 525C180.063 519 172.425 516.938 166.437 520.388L58.175 582.913C52.2 586.375 50.125 594 53.5875 600C57.05 605.963 64.7 608.013 70.675 604.563L178.925 542.037C184.888 538.6 186.963 530.988 183.5 525Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M576.8 223.188C581.663 228.1 589.575 228.05 594.475 223.188L629.825 187.838C634.725 182.95 634.7 175.05 629.8 170.163C624.95 165.275 617.038 165.275 612.15 170.163L576.8 205.513C571.9 210.375 571.925 218.313 576.8 223.188Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M275 616.5C269.013 613.037 261.4 615.087 257.938 621.037L195.438 729.337C192 735.3 194 742.937 200 746.4C205.988 749.812 213.625 747.762 217.088 741.812L279.563 633.537C283.013 627.587 281 619.95 275 616.5Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M464.725 158.5C471.363 160.312 478.2 156.3 480.038 149.662L492.975 101.375C494.763 94.6875 490.775 87.825 484.113 86.0625C477.475 84.25 470.613 88.2125 468.825 94.9L455.888 143.187C454.05 149.825 458.063 156.687 464.725 158.5Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M400 650C393.088 649.975 387.525 655.562 387.5 662.475L387.525 787.525C387.525 794.387 393.062 800 400 800C406.912 800 412.5 794.387 412.512 787.5L412.475 662.475C412.475 655.587 406.938 650 400 650Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M320 149.662C321.738 156.325 328.638 160.287 335.313 158.5C341.963 156.737 345.887 149.862 344.15 143.187L331.212 94.9C329.4 88.2125 322.55 84.25 315.875 86.0625C309.238 87.85 305.25 94.675 307.063 101.375L320 149.662Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M542.037 621.075C538.6 615.113 531 613.037 525 616.5C519.012 619.937 516.987 627.563 520.412 633.563L582.963 741.813C586.4 747.8 594 749.875 600 746.4C605.987 742.938 608.025 735.288 604.587 729.313L542.037 621.075Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M205.537 223.187C210.375 228.125 218.325 228.075 223.212 223.187C228.1 218.35 228.05 210.437 223.212 205.512L187.862 170.162C182.95 165.275 175.05 165.3 170.175 170.187C165.3 175.05 165.275 182.95 170.187 187.837L205.537 223.187Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M741.85 582.912L633.563 520.437C627.588 517 619.975 519 616.525 525.025C613.05 530.987 615.125 538.6 621.075 542.063L729.375 604.563C735.338 608 742.95 606 746.413 600C749.85 594 747.8 586.375 741.85 582.912Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M149.675 319.975L101.375 307.025C94.675 305.238 87.8375 309.225 86.0625 315.888C84.2625 322.525 88.2 329.388 94.9 331.2L143.187 344.112C149.825 345.937 156.7 341.938 158.5 335.275C160.312 328.663 156.312 321.825 149.675 319.975Z"
                  fill="#394240"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M400 250.025C393.088 250.025 387.5 255.613 387.5 262.525C387.5 269.438 393.088 275.025 400 275.025C469.025 275.025 525 330.987 525 400.025C525 406.937 530.588 412.525 537.5 412.525C544.412 412.525 550 406.937 550 400.025C550 317.187 482.837 250.025 400 250.025Z"
                  fill="#394240"
                />
              </>
            )}
          </g>
        </svg>
      </div>
    </>
  );
};
export default Toggler;
